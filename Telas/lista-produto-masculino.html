<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <title>Masculino</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <style>
        /* Remove the navbar's default rounded borders and increase the bottom margin */
        .navbar {
            margin-bottom: 50px;
            border-radius: 0;
        }

        /* Remove the jumbotron's default bottom margin */
        .jumbotron {
            margin-bottom: 0;
        }

        /* Add a gray background color and some padding to the footer */
        footer {
            background-color: #f2f2f2;
            padding: 25px;
        }

        .promotion {
            background-color: #7fff7f !important;
            font-weight: bold !important;
            text-align: center !important;
            font-size: 16px !important;
        }
    </style>
</head>

<body>
    <script>
        function insertProduct(products) {
            while (products.length > 0) {
                if (products.length >= 3) {
                    let id1 = products[0]['id'];
                    let img1 = products[0]['img'];
                    let name1 = products[0]['nome'];
                    let description1 = products[0]['descricao'];
                    let price1 = products[0]['preco'];

                    let id2 = products[1]['id'];
                    let img2 = products[1]['img'];
                    let name2 = products[1]['nome'];
                    let description2 = products[1]['descricao'];
                    let price2 = products[1]['preco'];

                    let id3 = products[2]['id'];
                    let img3 = products[2]['img'];
                    let name3 = products[2]['nome'];
                    let description3 = products[2]['descricao'];
                    let price3 = products[2]['preco'];

                    $('#containerProducts').append(`
                        <div class=" container" style="margin-top: 80px;">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id1 + `" onclick="goToProduct(event)" src="` + img1 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name1 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price1.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id2 + `" onclick="goToProduct(event)" src="` + img2 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name2 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price2.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id3 + `" onclick="goToProduct(event)" src="` + img3 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name3 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price3.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                </div>
                            </div>
                        </div><br>
                    `);

                    products.shift();
                    products.shift();
                    products.shift();
                }

                if (products.length == 2) {
                    let id1 = products[0]['id'];
                    let img1 = products[0]['img'];
                    let name1 = products[0]['nome'];
                    let description1 = products[0]['descricao'];
                    let price1 = products[0]['preco'];

                    let id2 = products[1]['id'];
                    let img2 = products[1]['img'];
                    let name2 = products[1]['nome'];
                    let description2 = products[1]['descricao'];
                    let price2 = products[1]['preco'];

                    $('#containerProducts').append(`
                        <div class=" container" style="margin-top: 80px;">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id1 + `" onclick="goToProduct(event)" src="` + img1 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name1 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price1.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id2 + `" onclick="goToProduct(event)" src="` + img2 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name2 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price2.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div><br>
                    `);

                    products.shift();
                    products.shift();
                }

                if (products.length == 1) {
                    let id1 = products[0]['id'];
                    let img1 = products[0]['img'];
                    let name1 = products[0]['nome'];
                    let description1 = products[0]['descricao'];
                    let price1 = products[0]['preco'];

                    $('#containerProducts').append(`
                        <div class=" container" style="margin-top: 80px;">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id1 + `" onclick="goToProduct(event)" src="` + img1 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name1 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price1.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <br>
                    `);

                    products.shift();
                }
            }
        }

        function goToProduct(product) {
            var jsonProducts = [
                {
                    "id": 19,
                    "img": "imgs/masculino1.jpg",
                    "produto": "Short de Compressão Nike Pro",
                    "descricao": "Com leve compressão, é perfeito para te acompanhar nos exercícios.",
                    "preco": 79.99,
                    "categoria": "masculino"
                },
                {
                    "id": 20,
                    "img": "imgs/masculino2.webp",
                    "produto": "BERMUDA ESPORTIVA DE FUTEBOL",
                    "descricao": "Bermuda confortável com detalhes nas laterais em preto.",
                    "preco": 59.90,
                    "categoria": "masculino"
                },
                {
                    "id": 21,
                    "img": "imgs/masculino3.jpg",
                    "produto": "CAMISETA MANGA CURTA TRACK&FIELD",
                    "descricao": "Camiseta manga curta, corpo em tecido de algodão e poliéster.",
                    "preco": 129.90,
                    "categoria": "masculino"
                },
                {
                    "id": 22,
                    "img": "imgs/masculino4.png",
                    "produto": "CAMISA LYCRA 702L",
                    "descricao": "Camisa ótima para a prática de esportes radicais.",
                    "preco": 117.00,
                    "categoria": "masculino"
                },
                {
                    "id": 23,
                    "img": "imgs/masculino5.jpg",
                    "produto": "CAMISETA DRY FLEXING",
                    "descricao": "A camiseta Dry Flexing é mais um design exclusivo da linha Bulking Performance.",
                    "preco": 119.00,
                    "categoria": "masculino"
                },
                {
                    "id": 24,
                    "img": "imgs/masculino6.jpg",
                    "produto": "Camiseta Adidas Core 18",
                    "descricao": "Camiseta moderna, feita em material respirável.",
                    "preco": 89.99,
                    "categoria": "masculino"
                }
            ];

            for (let i = 0; i < jsonProducts.length; i++) {
                if (parseInt(jsonProducts[i]["id"]) == parseInt($(product.target).attr('id'))) {
                    var jsonProduct = jsonProducts[i];
                    localStorage.setItem("produtoEscolhido", JSON.stringify(jsonProduct));
                }
            }

            window.location.href = "produto.html?produto=" + $(product.target).attr('id');
        }
    </script>
    </script>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li style="margin-left: -30px;"><a href="home.html">Home</a></li>
                    <li><a href="lista-produto-calcados.html">Calçados</a></li>
                    <li><a href="lista-produto-roupas.html">Roupas</a></li>
                    <li><a href="lista-produto-equipamentos.html">Equipamentos</a></li>
                    <li class="active"><a href="lista-produto-masculino.html">Masculino</a></li>
                    <li><a href="lista-produto-feminino.html">Feminino</a></li>
                    <li><a href="lista-produto-infantil.html">Infantil</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li id="create"><a href="cadastro.html"><span class="glyphicon glyphicon-plus"></span> Criar
                            conta</a></li>
                    <li id="login"><a href="home-login.html"><span class="glyphicon glyphicon-user"></span> Login</a>
                    </li>
                    <li id="config"></li>
                    <li><a href="carrinho.html"><span class="glyphicon glyphicon-shopping-cart"></span> Carrinho</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" style="margin-top: 8px; margin-right: 14%;">
                    <form class="form-inline">
                        <input style="width: 300px;" class="form-control mr-sm-2" type="text" placeholder="Produto">
                        <button class="btn btn-success" type="submit">Buscar</button>
                    </form>
                </ul>

            </div>
        </div>
    </nav>

    <div class="jumbotron">
        <div class="container text-center">
            <h1>Masculino</h1>
        </div>
    </div>

    <div id="containerProducts" class=" container" style="margin-top: 80px;"></div>
    <br>

    <footer class="container-fluid text-center">
        <p>Copyright &copy; 2021 E-commerce</p>
    </footer>

    <script>
        $(document).ready(function () {
            if (sessionStorage.getItem('status') != null && sessionStorage.getItem('status') != "null") {
                $("#config").html('<a href="configuracoes.html"><span class="glyphicon glyphicon-cog"></span> Configurações</a>');
                $("#login").html('');
                $("#create").html('');
            }

            // REQUISIÇÃO PARA O BACKEND
            $.ajax({
                type: "GET",
                url: "/masculino",
                data: {},
                dataType: "json",
                success: function (products) {
                    insertProduct(products);
                },
                failure: function (errMsg) {
                    alert("Falha no carregamento dos produtos.");
                }
            });

            var jsonProducts = [
                {
                    "id": 19,
                    "img": "imgs/masculino1.jpg",
                    "produto": "Short de Compressão Nike Pro",
                    "descricao": "Com leve compressão, é perfeito para te acompanhar nos exercícios.",
                    "preco": 79.99,
                    "categoria": "masculino"
                },
                {
                    "id": 20,
                    "img": "imgs/masculino2.webp",
                    "produto": "BERMUDA ESPORTIVA DE FUTEBOL",
                    "descricao": "Bermuda confortável com detalhes nas laterais em preto.",
                    "preco": 59.90,
                    "categoria": "masculino"
                },
                {
                    "id": 21,
                    "img": "imgs/masculino3.jpg",
                    "produto": "CAMISETA MANGA CURTA TRACK&FIELD",
                    "descricao": "Camiseta manga curta, corpo em tecido de algodão e poliéster.",
                    "preco": 129.90,
                    "categoria": "masculino"
                },
                {
                    "id": 22,
                    "img": "imgs/masculino4.png",
                    "produto": "CAMISA LYCRA 702L",
                    "descricao": "Camisa ótima para a prática de esportes radicais.",
                    "preco": 117.00,
                    "categoria": "masculino"
                },
                {
                    "id": 23,
                    "img": "imgs/masculino5.jpg",
                    "produto": "CAMISETA DRY FLEXING",
                    "descricao": "A camiseta Dry Flexing é mais um design exclusivo da linha Bulking Performance.",
                    "preco": 119.00,
                    "categoria": "masculino"
                },
                {
                    "id": 24,
                    "img": "imgs/masculino6.jpg",
                    "produto": "Camiseta Adidas Core 18",
                    "descricao": "Camiseta moderna, feita em material respirável.",
                    "preco": 89.99,
                    "categoria": "masculino"
                }
            ];

            insertProduct(jsonProducts);
        });
    </script>
</body>

</html>
