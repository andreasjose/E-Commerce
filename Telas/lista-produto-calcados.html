<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <title>Calçados</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <style>
        /* Remove the navbar's default rounded borders and increase the bottom margin */
        .navbar {
            margin-bottom: 50px;
            border-radius: 0;
        }

        /* Remove the jumbotron's default bottom margin */
        .jumbotron {
            margin-bottom: 0;
        }

        /* Add a gray background color and some padding to the footer */
        footer {
            background-color: #f2f2f2;
            padding: 25px;
        }

        .promotion {
            background-color: #7fff7f !important;
            font-weight: bold !important;
            text-align: center !important;
            font-size: 16px !important;
        }
    </style>
</head>

<body>
    <script>
        function insertProduct(products) {
            while (products.length > 0) {
                if (products.length >= 3) {
                    let id1 = products[0]['id'];
                    let img1 = products[0]['img'];
                    let name1 = products[0]['nome'];
                    let description1 = products[0]['descricao'];
                    let price1 = products[0]['preco'];

                    let id2 = products[1]['id'];
                    let img2 = products[1]['img'];
                    let name2 = products[1]['nome'];
                    let description2 = products[1]['descricao'];
                    let price2 = products[1]['preco'];

                    let id3 = products[2]['id'];
                    let img3 = products[2]['img'];
                    let name3 = products[2]['nome'];
                    let description3 = products[2]['descricao'];
                    let price3 = products[2]['preco'];

                    $('#containerProducts').append(`
                        <div class=" container" style="margin-top: 80px;">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id1 + `" onclick="goToProduct(event)" src="` + img1 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name1 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price1.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id2 + `" onclick="goToProduct(event)" src="` + img2 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name2 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price2.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id3 + `" onclick="goToProduct(event)" src="` + img3 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name3 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price3.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                </div>
                            </div>
                        </div><br>
                    `);

                    products.shift();
                    products.shift();
                    products.shift();
                }

                if (products.length == 2) {
                    let id1 = products[0]['id'];
                    let img1 = products[0]['img'];
                    let name1 = products[0]['nome'];
                    let description1 = products[0]['descricao'];
                    let price1 = products[0]['preco'];

                    let id2 = products[1]['id'];
                    let img2 = products[1]['img'];
                    let name2 = products[1]['nome'];
                    let description2 = products[1]['descricao'];
                    let price2 = products[1]['preco'];

                    $('#containerProducts').append(`
                        <div class=" container" style="margin-top: 80px;">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id1 + `" onclick="goToProduct(event)" src="` + img1 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name1 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price1.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id2 + `" onclick="goToProduct(event)" src="` + img2 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name2 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price2.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div><br>
                    `);

                    products.shift();
                    products.shift();
                }

                if (products.length == 1) {
                    let id1 = products[0]['id'];
                    let img1 = products[0]['img'];
                    let name1 = products[0]['nome'];
                    let description1 = products[0]['descricao'];
                    let price1 = products[0]['preco'];

                    $('#containerProducts').append(`
                        <div class=" container" style="margin-top: 80px;">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="panel panel-success">
                                        <div class="panel-body"><a><img id="` + id1 + `" onclick="goToProduct(event)" src="` + img1 + `" class="img-responsive"
                                                    style="width:100%; height: 260px; cursor: pointer;" alt="Image"></a></div>
                                        <div class="panel-footer">
                                            ` + name1 + `
                                        </div>
                                        <div class="panel-footer" style="border-top: none; margin-top: -20px;">
                                            Por apenas: ` + price1.toLocaleString("pt-BR", { style: "currency", currency: "BRL" }) + `
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <br>
                    `);

                    products.shift();
                }
            }
        }

        function goToProduct(product) {
            var jsonProducts = [
                {
                    "id": 1,
                    "img": "imgs/calcado1.jpg",
                    "produto": "Tênis Adidas Run Falcon",
                    "descricao": "Ideal para corredores iniciantes, contando com amortecimento leve, reforço no calcanhar",
                    "preco": 129.99,
                    "categoria": "calcados"
                },
                {
                    "id": 2,
                    "img": "imgs/calcado2.jpg",
                    "produto": "Tênis Adidas Grand Court",
                    "descricao": "Inspirado nos tênis clássicos dos anos 70, é ideal para os homens que buscam dar uma repaginada no visual.",
                    "preco": 149.99,
                    "categoria": "calcados"
                },
                {
                    "id": 3,
                    "img": "imgs/calcado3.jpg",
                    "produto": "Tênis FluidStreet",
                    "descricao": "Tênis de corrida adidas que garante uma sensação respirável e de amortecimento macio.",
                    "preco": 349.99,
                    "categoria": "calcados"
                },
                {
                    "id": 4,
                    "img": "imgs/calcado4.jpg",
                    "produto": "Tênis Nike Downshifter 10",
                    "descricao": "Traz amortecimento e suporte atualizados, para garantir uma corrida estável e confortável.",
                    "preco": 199.99,
                    "categoria": "calcados"
                },
                {
                    "id": 5,
                    "img": "imgs/calcado5.jpg",
                    "produto": "Tênis Nike Revolution 5",
                    "descricao": "Com ótimo amortecimento em espuma, é ideal para os corredores que buscam leveza e conforto.",
                    "preco": 189.99,
                    "categoria": "calcados"
                },
                {
                    "id": 6,
                    "img": "imgs/calcado6.jpg",
                    "produto": "Tênis Nike Court Lite 2",
                    "descricao": "A escolha certa para você, conta com amortecimento Phylon para maior leveza aos seus pés.",
                    "preco": 170.99,
                    "categoria": "calcados"
                }
            ];

            for (let i = 0; i < jsonProducts.length; i++) {
                if (parseInt(jsonProducts[i]["id"]) == parseInt($(product.target).attr('id'))) {
                    var jsonProduct = jsonProducts[i];
                    localStorage.setItem("produtoEscolhido", JSON.stringify(jsonProduct));
                }
            }

            window.location.href = "produto.html?produto=" + $(product.target).attr('id');
        }
    </script>
    </script>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li style="margin-left: -30px;"><a href="home.html">Home</a></li>
                    <li class="active"><a href="lista-produto-calcados.html">Calçados</a></li>
                    <li><a href="lista-produto-roupas.html">Roupas</a></li>
                    <li><a href="lista-produto-equipamentos.html">Equipamentos</a></li>
                    <li><a href="lista-produto-masculino.html">Masculino</a></li>
                    <li><a href="lista-produto-feminino.html">Feminino</a></li>
                    <li><a href="lista-produto-infantil.html">Infantil</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li id="create"><a href="cadastro.html"><span class="glyphicon glyphicon-plus"></span> Criar
                            conta</a></li>
                    <li id="login"><a href="home-login.html"><span class="glyphicon glyphicon-user"></span> Login</a>
                    </li>
                    <li id="config"></li>
                    <li><a href="carrinho.html"><span class="glyphicon glyphicon-shopping-cart"></span> Carrinho</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" style="margin-top: 8px; margin-right: 14%;">
                    <form class="form-inline">
                        <input style="width: 300px;" class="form-control mr-sm-2" type="text" placeholder="Produto">
                        <button class="btn btn-success" type="submit">Buscar</button>
                    </form>
                </ul>

            </div>
        </div>
    </nav>

    <div class="jumbotron">
        <div class="container text-center">
            <h1>Calçados</h1>
        </div>
    </div>

    <div id="containerProducts" class=" container" style="margin-top: 80px;"></div>
    <br>

    <footer class="container-fluid text-center">
        <p>Copyright &copy; 2021 E-commerce</p>
    </footer>

    <script>
        $(document).ready(function () {
            if (sessionStorage.getItem('status') != null && sessionStorage.getItem('status') != "null") {
                $("#config").html('<a href="configuracoes.html"><span class="glyphicon glyphicon-cog"></span> Configurações</a>');
                $("#login").html('');
                $("#create").html('');
            }

            // REQUISIÇÃO PARA O BACKEND
            $.ajax({
                type: "GET",
                url: "/calcados",
                data: {},
                dataType: "json",
                success: function (products) {
                    insertProduct(products);
                },
                failure: function (errMsg) {
                    alert("Falha no carregamento dos produtos.");
                }
            });

            var jsonProducts = [
                {
                    "id": 1,
                    "img": "imgs/calcado1.jpg",
                    "produto": "Tênis Adidas Run Falcon",
                    "descricao": "Ideal para corredores iniciantes, contando com amortecimento leve, reforço no calcanhar",
                    "preco": 129.99,
                    "categoria": "calcados"
                },
                {
                    "id": 2,
                    "img": "imgs/calcado2.jpg",
                    "produto": "Tênis Adidas Grand Court",
                    "descricao": "Inspirado nos tênis clássicos dos anos 70, é ideal para os homens que buscam dar uma repaginada no visual.",
                    "preco": 149.99,
                    "categoria": "calcados"
                },
                {
                    "id": 3,
                    "img": "imgs/calcado3.jpg",
                    "produto": "Tênis FluidStreet",
                    "descricao": "Tênis de corrida adidas que garante uma sensação respirável e de amortecimento macio.",
                    "preco": 349.99,
                    "categoria": "calcados"
                },
                {
                    "id": 4,
                    "img": "imgs/calcado4.jpg",
                    "produto": "Tênis Nike Downshifter 10",
                    "descricao": "Traz amortecimento e suporte atualizados, para garantir uma corrida estável e confortável.",
                    "preco": 199.99,
                    "categoria": "calcados"
                },
                {
                    "id": 5,
                    "img": "imgs/calcado5.jpg",
                    "produto": "Tênis Nike Revolution 5",
                    "descricao": "Com ótimo amortecimento em espuma, é ideal para os corredores que buscam leveza e conforto.",
                    "preco": 189.99,
                    "categoria": "calcados"
                },
                {
                    "id": 6,
                    "img": "imgs/calcado6.jpg",
                    "produto": "Tênis Nike Court Lite 2",
                    "descricao": "A escolha certa para você, conta com amortecimento Phylon para maior leveza aos seus pés.",
                    "preco": 170.99,
                    "categoria": "calcados"
                }
            ];

            insertProduct(jsonProducts);
        });
    </script>
</body>

</html>
